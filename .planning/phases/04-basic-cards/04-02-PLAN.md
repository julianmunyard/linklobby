---
phase: 04-basic-cards
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/components/cards/hero-card.tsx
  - src/components/cards/horizontal-link.tsx
  - src/components/cards/square-card.tsx
  - src/components/cards/card-renderer.tsx
autonomous: true

must_haves:
  truths:
    - "Hero Card displays large CTA with image, title, description, and link button"
    - "Horizontal Link displays wide bar with thumbnail, title, and chevron"
    - "Square Card displays tile with image and optional title overlay"
    - "CardRenderer switches component based on card_type"
  artifacts:
    - path: "src/components/cards/hero-card.tsx"
      provides: "HeroCard component"
      exports: ["HeroCard"]
      min_lines: 40
    - path: "src/components/cards/horizontal-link.tsx"
      provides: "HorizontalLink component"
      exports: ["HorizontalLink"]
      min_lines: 30
    - path: "src/components/cards/square-card.tsx"
      provides: "SquareCard component"
      exports: ["SquareCard"]
      min_lines: 30
    - path: "src/components/cards/card-renderer.tsx"
      provides: "CardRenderer switch component"
      exports: ["CardRenderer"]
  key_links:
    - from: "src/components/cards/card-renderer.tsx"
      to: "src/components/cards/hero-card.tsx"
      via: "import and switch case"
      pattern: "case.*hero.*HeroCard"
    - from: "src/components/cards/hero-card.tsx"
      to: "src/types/card.ts"
      via: "HeroCardContent type import"
      pattern: "import.*HeroCardContent.*from.*types/card"
---

<objective>
Create the three basic card render components: Hero Card, Horizontal Link, and Square Card, plus the CardRenderer switch component.

Purpose: These components render cards visually in the preview and public page. Each card type has a distinct layout optimized for its purpose - Hero for prominent CTAs, Horizontal for Linktree-style links, Square for compact tiles.

Output:
- HeroCard component (large, image background, prominent button)
- HorizontalLink component (wide bar with thumbnail and chevron)
- SquareCard component (tile with image and title overlay)
- CardRenderer that switches between components based on card_type
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/04-basic-cards/04-RESEARCH.md

# From Plan 01
@src/types/card.ts
@src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HeroCard Component</name>
  <files>src/components/cards/hero-card.tsx</files>
  <action>
Create the Hero Card component - a large prominent CTA with image background, gradient overlay, and action button.

```typescript
// src/components/cards/hero-card.tsx
"use client"

import Image from "next/image"
import { ExternalLink } from "lucide-react"

import { cn } from "@/lib/utils"
import type { Card, HeroCardContent } from "@/types/card"

interface HeroCardProps {
  card: Card
  isPreview?: boolean
}

export function HeroCard({ card, isPreview = false }: HeroCardProps) {
  const content = card.content as HeroCardContent

  return (
    <div className="relative w-full h-64 rounded-xl overflow-hidden bg-card border">
      {/* Background image or gradient placeholder */}
      {content.imageUrl ? (
        <Image
          src={content.imageUrl}
          alt={content.imageAlt || card.title || "Hero image"}
          fill
          className="object-cover"
          sizes="(max-width: 768px) 100vw, 600px"
          priority={isPreview}
        />
      ) : (
        <div className="absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/5" />
      )}

      {/* Gradient overlay for text readability */}
      <div className="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent" />

      {/* Content positioned at bottom */}
      <div className="absolute bottom-0 left-0 right-0 p-6 text-white">
        {card.title && (
          <h2 className="text-2xl font-bold mb-1 drop-shadow-sm">
            {card.title}
          </h2>
        )}
        {card.description && (
          <p className="text-sm opacity-90 mb-4 line-clamp-2 drop-shadow-sm">
            {card.description}
          </p>
        )}
        {card.url && (
          <a
            href={card.url}
            target="_blank"
            rel="noopener noreferrer"
            className={cn(
              "inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",
              content.buttonStyle === "secondary"
                ? "bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm"
                : content.buttonStyle === "outline"
                  ? "border border-white text-white hover:bg-white/10"
                  : "bg-white text-black hover:bg-white/90"
            )}
          >
            {content.buttonText || "Visit"}
            <ExternalLink className="h-4 w-4" />
          </a>
        )}
      </div>

      {/* Full-card click area when no button text (stretched link pattern) */}
      {card.url && !content.buttonText && (
        <a
          href={card.url}
          target="_blank"
          rel="noopener noreferrer"
          className="absolute inset-0"
          aria-label={`Visit ${card.title || "link"}`}
        />
      )}
    </div>
  )
}
```
  </action>
  <verify>`npx tsc --noEmit` - no type errors</verify>
  <done>HeroCard renders with image background, gradient overlay, title, description, and styled button</done>
</task>

<task type="auto">
  <name>Task 2: Create HorizontalLink Component</name>
  <files>src/components/cards/horizontal-link.tsx</files>
  <action>
Create the Horizontal Link component - a Linktree-style wide bar with thumbnail, text, and chevron indicator.

```typescript
// src/components/cards/horizontal-link.tsx
"use client"

import Image from "next/image"
import { ChevronRight, Link2 } from "lucide-react"

import { cn } from "@/lib/utils"
import type { Card, HorizontalLinkContent } from "@/types/card"

interface HorizontalLinkProps {
  card: Card
  isPreview?: boolean
}

export function HorizontalLink({ card, isPreview = false }: HorizontalLinkProps) {
  const content = card.content as HorizontalLinkContent
  const hasLink = Boolean(card.url)

  const Wrapper = hasLink ? "a" : "div"
  const wrapperProps = hasLink
    ? {
        href: card.url!,
        target: "_blank",
        rel: "noopener noreferrer",
      }
    : {}

  return (
    <Wrapper
      {...wrapperProps}
      className={cn(
        "relative flex items-center gap-4 w-full p-4 rounded-lg border bg-card",
        "transition-colors duration-150",
        hasLink && "hover:bg-accent hover:border-accent-foreground/20 cursor-pointer",
        !hasLink && "cursor-default"
      )}
    >
      {/* Thumbnail or icon placeholder */}
      {content.imageUrl ? (
        <div className="relative h-12 w-12 rounded-lg overflow-hidden flex-shrink-0 bg-muted">
          <Image
            src={content.imageUrl}
            alt={content.imageAlt || ""}
            fill
            className="object-cover"
            sizes="48px"
          />
        </div>
      ) : (
        <div className="h-12 w-12 rounded-lg bg-muted flex items-center justify-center flex-shrink-0">
          <Link2 className="h-5 w-5 text-muted-foreground" />
        </div>
      )}

      {/* Text content */}
      <div className="flex-1 min-w-0">
        <h3 className="font-medium truncate">
          {card.title || "Untitled Link"}
        </h3>
        {card.description && (
          <p className="text-sm text-muted-foreground truncate">
            {card.description}
          </p>
        )}
      </div>

      {/* Chevron indicator for links */}
      {hasLink && (
        <ChevronRight className="h-5 w-5 text-muted-foreground flex-shrink-0" />
      )}
    </Wrapper>
  )
}
```
  </action>
  <verify>`npx tsc --noEmit` - no type errors</verify>
  <done>HorizontalLink renders with thumbnail, title, description, and chevron; hover state on links</done>
</task>

<task type="auto">
  <name>Task 3: Create SquareCard and CardRenderer Components</name>
  <files>
src/components/cards/square-card.tsx
src/components/cards/card-renderer.tsx
  </files>
  <action>
Create the Square Card component and the CardRenderer switch component.

**square-card.tsx:**
```typescript
// src/components/cards/square-card.tsx
"use client"

import Image from "next/image"
import { ImageIcon } from "lucide-react"

import { cn } from "@/lib/utils"
import type { Card, SquareCardContent } from "@/types/card"

interface SquareCardProps {
  card: Card
  isPreview?: boolean
}

export function SquareCard({ card, isPreview = false }: SquareCardProps) {
  const content = card.content as SquareCardContent
  const hasLink = Boolean(card.url)
  const showTitle = content.showTitle !== false && Boolean(card.title)

  const Wrapper = hasLink ? "a" : "div"
  const wrapperProps = hasLink
    ? {
        href: card.url!,
        target: "_blank",
        rel: "noopener noreferrer",
      }
    : {}

  return (
    <Wrapper
      {...wrapperProps}
      className={cn(
        "relative block aspect-square w-full rounded-lg border bg-card overflow-hidden",
        "transition-colors duration-150",
        hasLink && "hover:border-accent-foreground/20 cursor-pointer",
        !hasLink && "cursor-default"
      )}
    >
      {/* Image or placeholder */}
      {content.imageUrl ? (
        <Image
          src={content.imageUrl}
          alt={content.imageAlt || card.title || "Card image"}
          fill
          className="object-cover"
          sizes="(max-width: 400px) 50vw, 200px"
        />
      ) : (
        <div className="absolute inset-0 bg-muted flex items-center justify-center">
          <ImageIcon className="h-10 w-10 text-muted-foreground" />
        </div>
      )}

      {/* Title overlay */}
      {showTitle && (
        <>
          <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent" />
          <div className="absolute bottom-0 left-0 right-0 p-3">
            <h3 className="text-sm font-medium text-white truncate drop-shadow-sm">
              {card.title}
            </h3>
          </div>
        </>
      )}
    </Wrapper>
  )
}
```

**card-renderer.tsx:**
```typescript
// src/components/cards/card-renderer.tsx
import { HeroCard } from "./hero-card"
import { HorizontalLink } from "./horizontal-link"
import { SquareCard } from "./square-card"
import type { Card } from "@/types/card"

interface CardRendererProps {
  card: Card
  isPreview?: boolean
}

export function CardRenderer({ card, isPreview = false }: CardRendererProps) {
  switch (card.card_type) {
    case "hero":
      return <HeroCard card={card} isPreview={isPreview} />
    case "horizontal":
      return <HorizontalLink card={card} isPreview={isPreview} />
    case "square":
      return <SquareCard card={card} isPreview={isPreview} />
    default:
      // Fallback for unimplemented card types (video, gallery, dropdown, game, audio)
      return (
        <div className="w-full p-4 rounded-lg border bg-card">
          <p className="font-medium">{card.title || "Untitled"}</p>
          <p className="text-sm text-muted-foreground capitalize">
            {card.card_type} (coming soon)
          </p>
        </div>
      )
  }
}
```
  </action>
  <verify>
`npx tsc --noEmit` - no type errors
All four component files exist in src/components/cards/
  </verify>
  <done>SquareCard renders tile with image and title overlay; CardRenderer switches between all three card types</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes - all components type-check
2. All four files exist:
   - src/components/cards/hero-card.tsx
   - src/components/cards/horizontal-link.tsx
   - src/components/cards/square-card.tsx
   - src/components/cards/card-renderer.tsx
3. Each component imports types from @/types/card
4. CardRenderer handles hero, horizontal, square with fallback for others
</verification>

<success_criteria>
- HeroCard: Large CTA with image background, gradient, button
- HorizontalLink: Wide bar with thumbnail, title, chevron
- SquareCard: Tile with image and optional title overlay
- CardRenderer: Switches component based on card_type
- All components handle missing image gracefully with placeholders
- All components handle missing URL gracefully (no click action)
</success_criteria>

<output>
After completion, create `.planning/phases/04-basic-cards/04-02-SUMMARY.md`
</output>
