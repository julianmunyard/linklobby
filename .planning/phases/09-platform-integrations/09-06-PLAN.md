---
phase: 09-platform-integrations
plan: 06
type: execute
wave: 4
depends_on: ["09-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All music platforms render correctly"
    - "All video platforms render correctly"
    - "Vertical content displays in 9:16 aspect ratio"
    - "Playback coordination works across embeds"
    - "Platform icons display correctly"
---

<objective>
Human verification checkpoint to test all platform integrations work correctly.

Purpose: Verify embeds from all supported platforms render and play correctly before marking phase complete.

Output: Human approval that all integrations work, or list of issues to fix in gap closure.
</objective>

<execution_context>
@/Users/julianmunyard/.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/09-platform-integrations/09-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Platform integrations for music embeds (Spotify, Apple Music, SoundCloud, Bandcamp, Audiomack), video embeds (YouTube, Vimeo, TikTok, Instagram), vertical 9:16 content support, and one-at-a-time playback coordination.
  </what-built>
  <how-to-verify>
**Setup:**
1. Run dev server: `npm run dev`
2. Open editor: http://localhost:3000/editor (or your editor route)
3. Ensure you have test URLs ready (see below)

**Test URLs to use:**
- Spotify: `https://open.spotify.com/track/4cOdK2wGLETKBW3PvgPWqT` (Rick Astley)
- Apple Music: `https://music.apple.com/us/album/never-gonna-give-you-up/1452472858?i=1452472863`
- SoundCloud: `https://soundcloud.com/rick-astley-official/never-gonna-give-you-up-4`
- Bandcamp: `https://music.bandcamp.com/album/wherever-you-are` (use any artist)
- Audiomack: `https://audiomack.com/song/rick-astley/never-gonna-give-you-up`
- YouTube: `https://www.youtube.com/watch?v=dQw4w9WgXcQ`
- TikTok: `https://www.tiktok.com/@tiktok/video/7106594312292453674`
- Instagram Reel: `https://www.instagram.com/reel/C1234567890/` (find a real reel URL)
- Instagram Post: `https://www.instagram.com/p/C1234567890/` (find a real post URL)

**Test 1: Music Card - Spotify**
1. Add a new Music card
2. Paste Spotify URL in the editor fields
3. Verify: Platform detected as "Spotify" with green checkmark
4. Verify: Card shows thumbnail with play button
5. Click play button
6. Verify: Spotify embed loads and plays

**Test 2: Music Card - Other Platforms**
Repeat Test 1 for:
- [ ] Apple Music
- [ ] SoundCloud
- [ ] Audiomack
- [ ] Bandcamp (may show processing note)

**Test 3: Video Card - TikTok Vertical**
1. Add a new Video card
2. Paste TikTok URL
3. Verify: Card displays in tall 9:16 aspect ratio (not wide 16:9)
4. Verify: Content is centered with max-width ~325px
5. Click play
6. Verify: TikTok embed loads and plays

**Test 4: Video Card - Instagram**
1. Add a new Video card
2. Paste Instagram Reel URL
3. Verify: Card displays in 9:16 vertical format
4. Paste Instagram regular post URL
5. Verify: Post embeds correctly

**Test 5: Playback Coordination**
1. Add one Music card (e.g., Spotify)
2. Add one Video card (e.g., YouTube)
3. Click play on music card -> it plays
4. Click play on video card
5. Verify: Music card STOPS (returns to thumbnail state)
6. Verify: Video card plays
7. Add second music card with different URL
8. Click play on second music card
9. Verify: First music card and video card both stopped

**Test 6: Error States**
1. Create new music card
2. Paste invalid URL: `https://example.com/not-music`
3. Verify: Error message appears indicating URL not recognized
4. Verify: No crash, card shows placeholder

**Test 7: Edge Cases**
1. Create music card, paste URL, then delete URL
2. Verify: Card returns to placeholder state
3. Create card, rapidly switch between URL types
4. Verify: No crashes or stuck states

**Expected Results:**
- All 5 music platforms embed and play
- YouTube, Vimeo continue working
- TikTok displays vertically (9:16)
- Instagram posts/reels embed correctly
- Only one embed plays at a time
- Errors handled gracefully
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
Or describe any issues found:
- Which platform(s) failed?
- What was the expected vs actual behavior?
- Any console errors?
  </resume-signal>
</task>

</tasks>

<verification>
Human confirms all platform integrations work correctly.
</verification>

<success_criteria>
1. All 5 music platforms render and play
2. All video platforms render (including vertical)
3. Playback coordination prevents multiple simultaneous playback
4. Error states display correctly
5. No crashes or stuck states
</success_criteria>

<output>
After completion, create `.planning/phases/09-platform-integrations/09-06-SUMMARY.md`
</output>
