---
phase: 12.71-editor-ux-overhaul
plan: 08
type: execute
wave: 2
depends_on: []
files_modified:
  - src/components/editor/featured-themes-tab.tsx
  - src/components/editor/editor-panel.tsx
autonomous: true

must_haves:
  truths:
    - "Clicking a featured theme shows its templates before applying"
    - "Create Your Own option exists in Featured tab"
    - "Create Your Own clears template content but keeps current theme"
  artifacts:
    - path: "src/components/editor/featured-themes-tab.tsx"
      provides: "Featured tab with template-first flow and Create Your Own"
      contains: "Create Your Own"
  key_links:
    - from: "src/components/editor/featured-themes-tab.tsx"
      to: "src/components/editor/editor-panel.tsx"
      via: "onNavigateToTheme callback"
      pattern: "onNavigateToTheme|handleNavigateToTheme"
---

<objective>
Update Featured tab to show theme templates before applying, and add a Create Your Own option.

Purpose: Artists who click a featured theme should see available templates for that theme rather than immediately having it applied. A "Create Your Own" option gives artists a blank canvas starting point.

Output: Featured tab navigates to theme templates on click; blank canvas option available.
</objective>

<execution_context>
@/Users/julianmunyard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/julianmunyard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/12.71-editor-ux-overhaul/12.71-RESEARCH.md

Key files to reference:
@src/components/editor/featured-themes-tab.tsx (featured themes rendering, click handlers)
@src/components/editor/editor-panel.tsx (handleNavigateToTheme, panel navigation)
@src/components/editor/template-picker.tsx (template picker component)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Featured theme click navigates to templates; add Create Your Own</name>
  <files>
    src/components/editor/featured-themes-tab.tsx
    src/components/editor/editor-panel.tsx
  </files>
  <action>
1. In `src/components/editor/featured-themes-tab.tsx`:
   - Find `handleCardClick` (or equivalent click handler on featured theme cards). Currently it calls `applyTemplate(template, 'replace')` directly — possibly through a confirm dialog flow (`setPendingTemplate`/`setShowConfirm`).
   - **REMOVE** the entire `applyTemplate()` call from `handleCardClick`. Also **REMOVE** the confirm-dialog flow (`setPendingTemplate`, `setShowConfirm`, the confirm dialog component) from the card click path — the template picker handles the apply step instead.
   - **REPLACE** with a call to `onNavigateToTheme(template.themeId)` — this prop already flows into `FeaturedThemesTab` from `EditorPanel` via `handleNavigateToTheme`.
   - If `onNavigateToTheme` is NOT already in the props, add it from EditorPanel.
   - The "Explore theme" link at the bottom of each card should continue to use `onNavigateToTheme` as it does now.
   - The navigation should show the template picker for that specific theme, letting the user choose which template to apply

2. Add a "Create Your Own" card at the END of the featured themes list:
   - Design it as a special card with a Plus icon and "Create Your Own" label
   - Style: dashed border, muted colors, centered plus icon — visually distinct from theme cards
   - On click:
     a. Clear all cards from page store: `usePageStore.getState().setCards([])`
     b. Keep the current theme (don't change it)
     c. Navigate to the Links tab so user can start adding their own content
     d. Show a toast: "Blank canvas ready — start adding your links!"
   - Use the same navigation mechanism to switch to the Links tab (dispatch a custom event or call the panel navigation function)

3. In `src/components/editor/editor-panel.tsx`:
   - Verify `handleNavigateToTheme` is defined and passed to `FeaturedThemesTab`
   - If not, add it — it should navigate the panel to show the TemplatePicker filtered by the selected theme
   - Verify the panel navigation supports switching to Links tab programmatically (for Create Your Own flow)

4. Add a confirmation dialog for "Create Your Own" if the user has existing cards:
   - Simple `confirm()` dialog: "This will clear your existing cards. Continue?"
   - Only show if cards.length > 0
   - If user cancels, do nothing
  </action>
  <verify>
    - `npm run build` passes
    - Click a featured theme -> navigates to template picker showing templates for that theme
    - "Create Your Own" card visible at end of featured list
    - Click "Create Your Own" with existing cards -> confirmation dialog
    - Confirm -> cards cleared, navigate to Links tab, toast shown
    - Click "Create Your Own" with no cards -> directly clears and navigates
  </verify>
  <done>
    - Featured theme click shows templates instead of applying directly
    - Create Your Own option exists with blank canvas flow
    - Confirmation dialog protects against accidental card deletion
    - Navigation to Links tab after blank canvas creation
  </done>
</task>

</tasks>

<verification>
- `npm run build` completes with 0 TypeScript errors
- Featured theme click -> template picker flow
- Create Your Own -> blank canvas with confirmation
- Toast notification shown
- Links tab auto-opened after Create Your Own
</verification>

<success_criteria>
- Featured themes show templates before applying
- Create Your Own option works with confirmation
- Build passes clean
</success_criteria>

<output>
After completion, create `.planning/phases/12.71-editor-ux-overhaul/12.71-08-SUMMARY.md`
</output>
