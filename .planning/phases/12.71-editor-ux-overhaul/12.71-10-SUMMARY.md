---
phase: 12.71-editor-ux-overhaul
plan: 10
subsystem: ui
tags: [gallery, carousel, embla, image-upload, crop, lucide-react]

# Dependency graph
requires:
  - phase: 12.71-editor-ux-overhaul
    provides: Phase context — editor UX overhaul series
provides:
  - Gallery carousel photos edge-to-edge (no side gaps)
  - Crop icon hover overlay on image-upload thumbnail
affects: [gallery-card, image-upload, embla-carousel]

# Tech tracking
tech-stack:
  added: []
  patterns:
    - "Carousel slides: no padding on slide wrapper, rounded-xl on viewport only"
    - "Image thumbnails: group + opacity-0 group-hover:opacity-100 for icon overlay"

key-files:
  created: []
  modified:
    - src/components/ui/embla-carousel.tsx
    - src/components/cards/image-upload.tsx

key-decisions:
  - "Removed px-2 from Embla carousel slides — padding was causing visible side gaps between image edge and card border"
  - "Moved border-radius to viewport container (rounded-xl) rather than individual images to avoid gap artifacts"
  - "Crop icon overlay uses group/group-hover pattern instead of relying on opacity-80 hover alone"

patterns-established:
  - "Embla carousel: flex-[0_0_100%] with no horizontal padding for true edge-to-edge fill"
  - "Image crop affordance: dark overlay + Crop icon centered, opacity-0 group-hover:opacity-100"

# Metrics
duration: 8min
completed: 2026-02-26
---

# Phase 12.71 Plan 10: Gallery Carousel Edge-to-Edge and Crop Icon Summary

**Embla carousel photos fill edge-to-edge by removing px-2 slide padding; image-upload thumbnail shows centered Crop icon overlay on hover**

## Performance

- **Duration:** ~8 min
- **Started:** 2026-02-26T00:00:00Z
- **Completed:** 2026-02-26T00:08:00Z
- **Tasks:** 1
- **Files modified:** 2

## Accomplishments
- Gallery carousel photos now fill frame edge-to-edge with no side gaps (removed `px-2` padding from Embla slide wrappers)
- Removed `rounded-lg` from individual carousel images — `rounded-xl` on viewport container handles clipping correctly
- Image-upload thumbnail now shows a Crop icon overlay on hover, giving clear affordance that clicking crops/recropping

## Task Commits

Each task was committed atomically:

1. **Task 1: Fix gallery carousel edge-to-edge and add crop icon overlay** - `34bb2ec` (feat)

**Plan metadata:** _(docs commit follows)_

## Files Created/Modified
- `src/components/ui/embla-carousel.tsx` - Removed px-2 from slide wrapper; removed rounded-lg from image (viewport has rounded-xl)
- `src/components/cards/image-upload.tsx` - Added Crop import; added dark overlay + Crop icon with group-hover visibility on thumbnail

## Decisions Made
- Removed `px-2` from carousel slide `<div>` — this was the direct cause of side gaps between the photo and card edges
- Removed per-image `rounded-lg` since the viewport `overflow-hidden rounded-xl` already clips corners correctly; having both caused subtle double-radius appearance
- Used `group` / `group-hover:opacity-100` pattern for the crop overlay (consistent with gallery-card-fields.tsx SortableImage which already does this)

## Deviations from Plan

None - plan executed exactly as written. The plan listed `gallery-card-fields.tsx` as a file to modify but that file already had a Crop icon implementation (`gallery-card-fields.tsx` line 95). No changes were needed there.

## Issues Encountered
None

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- Gallery carousel is now edge-to-edge in both flow and scatter layouts
- Image-upload crop affordance is clear with Crop icon overlay
- Plan 11 (remaining editor UX) can proceed

---
*Phase: 12.71-editor-ux-overhaul*
*Completed: 2026-02-26*
