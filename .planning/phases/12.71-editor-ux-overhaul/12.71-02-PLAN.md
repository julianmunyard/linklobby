---
phase: 12.71-editor-ux-overhaul
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/editor/cards-tab.tsx
  - src/components/editor/design-panel.tsx
  - src/components/editor/header-section.tsx
autonomous: true

must_haves:
  truths:
    - "Add dropdown button says 'Add Link' (or 'Add' for Mac/Phone Home themes)"
    - "Dropdown only shows content types: Link, Music, Audio, Video, Photo Gallery, Game, Email Collection, Release, Social Icons"
    - "Card type variants (Hero, Square, Horizontal, Mini, Text) are NOT in the dropdown"
    - "Text section exists in Design tab for creating text blocks"
    - "Header section label says 'Title Edit' instead of 'Header'"
  artifacts:
    - path: "src/components/editor/cards-tab.tsx"
      provides: "Simplified dropdown with content types only"
      contains: "Add Link"
    - path: "src/components/editor/design-panel.tsx"
      provides: "Text section in Design tab"
    - path: "src/components/editor/header-section.tsx"
      provides: "Renamed header section label"
  key_links:
    - from: "src/components/editor/design-panel.tsx"
      to: "src/stores/page-store.ts"
      via: "Add text card action from Design tab"
      pattern: "addCard.*text"
---

<objective>
Simplify card creation dropdown and rename labels.

Purpose: Artists should see content types (Link, Music, Video) not display variants (Hero, Square, Horizontal). Removes cognitive overhead of choosing a visual format before they even know what content they want to add. Also renames "Header" to "Title Edit" and adds a Text shortcut in Design tab.

Output: Cleaner dropdown, friendlier labels, Text section in Design tab.
</objective>

<execution_context>
@/Users/julianmunyard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/julianmunyard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12.71-editor-ux-overhaul/12.71-RESEARCH.md

Key files to reference:
@src/components/editor/cards-tab.tsx (CARD_TYPES array, Add Card button)
@src/components/editor/design-panel.tsx (TABS array, tab rendering)
@src/components/editor/header-section.tsx (section label)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Simplify card creation dropdown and rename button</name>
  <files>src/components/editor/cards-tab.tsx</files>
  <action>
1. In `src/components/editor/cards-tab.tsx`, modify the `CARD_TYPES` array to remove visual variants. The new array should be:
   ```
   { type: "link", label: "Link" },
   { type: "music", label: "Music Card" },
   { type: "audio", label: "Audio Player", pro: true },
   { type: "video", label: "Video Card" },
   { type: "gallery", label: "Photo Gallery" },
   { type: "game", label: "Game" },
   { type: "email-collection", label: "Email Collection", pro: true },
   { type: "release", label: "Release", pro: true },
   { type: "social-icons", label: "Social Icons" },
   ```
   REMOVE: mini, text, horizontal, hero, square from this array.
   IMPORTANT: These card types must still be creatable via CardTypePicker in card-property-editor.tsx — do NOT modify that file.

2. Rename the dropdown trigger button text:
   - Check current theme from `useThemeStore`. If theme is 'mac-os' or 'phone-home', use "Add" as the label (since these themes add "windows" or "apps", not "links").
   - For all other themes, use "Add Link".
   - Find the `<DropdownMenuTrigger>` button and update its text accordingly.

3. Leave `PHONE_HOME_CARD_TYPES` array unchanged — Phone Home already has a curated list.
  </action>
  <verify>
    - `npm run build` passes
    - Dropdown shows only content types (9 items)
    - Button says "Add Link" for standard themes, "Add" for mac-os/phone-home
    - CardTypePicker in property editor still shows all visual variants
  </verify>
  <done>
    - Visual variant types removed from Add dropdown
    - Button label is context-aware per theme
    - All card types still creatable via property editor CardTypePicker
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Text section to Design tab and rename Header section</name>
  <files>
    src/components/editor/design-panel.tsx
    src/components/editor/header-section.tsx
  </files>
  <action>
1. In `src/components/editor/header-section.tsx`:
   - Find the section label/title that says "Header" (look for heading text or section title).
   - Rename it to "Title Edit". This is the user-facing label only — component name and file name stay the same.

2. In `src/components/editor/design-panel.tsx`:
   - Find the TABS array and rename the 'header' tab label from "Header" to "Title Edit" (or whatever the display label is).
   - Add a "Text" section below the existing design controls. This section should have:
     a. A heading "Text Blocks"
     b. A brief description: "Add standalone text to your page"
     c. A button "Add Text Block" that calls the page store's addCard action with type "text"
     d. Import `usePageStore` and use its `addCard` method
     e. The button should use the existing card creation logic (same as what cards-tab uses for adding a card of type "text")
   - Place this Text section as a sub-section within the Design tab, after the existing style/background controls but before any footer.
  </action>
  <verify>
    - `npm run build` passes
    - Design tab shows "Title Edit" instead of "Header"
    - Design tab has a "Text Blocks" section with an "Add Text Block" button
    - Clicking "Add Text Block" creates a text card in the page
  </verify>
  <done>
    - Header section renamed to "Title Edit" in all user-facing labels
    - Text Blocks section exists in Design tab with working add button
  </done>
</task>

</tasks>

<verification>
- `npm run build` completes with 0 TypeScript errors
- Card creation dropdown shows 9 content types, no visual variants
- "Add Link" label on trigger button (standard themes)
- "Add" label on trigger button (mac-os, phone-home)
- Design > "Title Edit" tab visible
- "Add Text Block" button creates a text card
</verification>

<success_criteria>
- Dropdown simplified to content types only
- Button label is theme-aware
- Header section renamed to Title Edit
- Text Blocks section in Design tab works
- Build passes clean
</success_criteria>

<output>
After completion, create `.planning/phases/12.71-editor-ux-overhaul/12.71-02-SUMMARY.md`
</output>
